I learnt that using a database and DateTime and Times
are great.

Instead of storeing duration it is way mutch better to use start_times and end_times.

And when experimenting, use a arduino without wifi, because
establishing wifi takes ruffly 20 seconds.
